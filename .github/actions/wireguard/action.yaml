name: Wireguard
description: Attach to a Wireguard VPN

inputs:
  # vpn_config:
  #   description: Wireguard configuration file CONTENTS
  #   required: true
  # conf_dir:
  #   description: "Directory to write the Wireguard config file to (suggested: runner.temp)"
  #   required: true
  private_key:
    description: Wireguard private key
    required: true
  public_key:
    description: Wireguard public key
    required: true
  endpoint:
    description: Wireguard endpoint
    required: true
  client_ip:
    description: Wireguard client IP
    required: true
  gateway_ip:
    description: Wireguard gateway IP
    required: true
  allowed_ips:
    description: Wireguard allowed IPs
    required: true
  conf_dir:
    description: "Directory to write the Wireguard config file to (suggested: runner.temp)"
    required: true

runs:
  using: node20
  main: dist/connect.js
  post: dist/disconnect.js
